jQuery(function(a){"use strict";var l={init:function(){a(".wc-appointments-appointment-form").each(function(){var o=a(this).closest("form"),d=o.find(".picker:eq(0)");o.on("addon-duration-changed",function(t,e){var n=parseInt(d.attr("data-appointment_duration"),10),i=parseInt(e,10),a=parseInt(n+i,10);d.data("combined_duration",a),d.data("addon_duration",e),l.highlight_months(o)}),l.month_picker_init(o)})},month_picker_init:function(n){var t=n.find(".picker:eq(0)"),e=t.attr("data-is_autoselect");if(t.on("click","a",function(t){t.preventDefault();var e=a(this).parent().data("slot");l.set_selected_month(n,e)}),null!==wca_get_querystring("date")){var i=t.find('li.slot a[data-value="'+wca_get_querystring("date")+'"]').not(".slot_empty");0<i.length?(i.click(),l.highlight_months(n)):l.autoselect_first_available_month(n)}else e&&l.autoselect_first_available_month(n)},set_selected_month:function(t,e){var n=t.find(".wc-appointments-appointment-form-button"),i=t.find(".picker:eq(0)"),a=t.find(".picker:eq(0)").parent("div").find("input"),o=i.find('[data-slot="'+e+'"]'),d=o.find("a").data("value");a.val(d),n.prop("disabled",!0),t.triggerHandler("month-selected"),i.find("li").removeClass("selected"),o.addClass("selected"),l.highlight_months(t)},autoselect_first_available_month:function(t){var e=t.find(".picker:eq(0)").find('li.slot:not(".slot_empty,.fully_scheduled"):first');0<e.length&&e.has("a")&&(e.find("a").click(),l.highlight_months(t))},highlight_months:function(t){var e=t.find(".picker:eq(0)"),n=e.find("li.selected").not(".slot_empty"),i=e.attr("data-appointment_duration"),a=e.data("combined_duration")?e.data("combined_duration"):i,o=a<1?1:a,d=o-1;0<o&&(e.find("li").removeClass("selected-month"),n.nextAll().slice(0,d).addClass("selected-month"))}};l.init()});